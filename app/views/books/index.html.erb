<h1>BEST <span style="color: rgb(22, 125, 230);">TWO</span> BOOKS <span style="color: rgb(107, 177, 47);">EVER</span>
</h1>
<h2>Books which mostly <span style="color: rgb(22, 125, 230);">changed your life</span></h2>
<div class='question'>
  <%= form_tag '/vote', :class => 'simple_form', :id => 'book_form' do  %>
      <fieldset>
        <h3 class="email">Just start typing book title</h3>
        <div class="row">
          <%= autocomplete_field_tag :title_1, '', autocomplete_book_title_books_path,
                                     :display_value => :full_name, :class => 'string email required text',
                                     :placeholder => 'Harry Potter and the Order of the Phoenix',
                                     :id_element => '#book_id_1' %>
        </div>
        <div class="row">
          <h3 class="email">And the next one</h3>
        </div>
        <div class="row">
          <%= autocomplete_field_tag :title_2, '', autocomplete_book_title_books_path,
                                     :display_value => :full_name, :class => 'string email required text',
                                     :placeholder => 'Seven Habits of Highly Effective People',
                                     :id_element => '#book_id_2' %>
        </div>
        <%= submit_tag 'Vote!', :class => 'submit'%>
      </fieldset>
      <%= hidden_field_tag :book_id_1%>
      <%= hidden_field_tag :book_id_2%>
  <% end %>
  <script type="text/javascript">
      $(function() {
          $("#book_form").submit(function(e){
              $.post("/vote", $("#book_form").serialize(), function(data) {
                  if (data == 'ok'){
                      $("#login_dialog").dialog('open');
                  } else {
                      window.location = data;
                  }
              });
              e.stopPropagation();
              return false;
          });
      });
  </script>
  <%= render 'popup' %>
</div>